# 开源经纬  
### —— 一次开源世界的人口普查

> **覆盖 425 万活跃开发者 · 定位准确率 82.5% · 首次实现无自填依赖的高精度地理推断**

本项目基于 **OpenDigger 全域 GitHub 日志数据**（涵盖 2024–2025 年超 5000 万开发者的完整行为流），构建不依赖用户自述位置的地理定位体系。通过融合姓名文化、协作时区、邮箱域名与社交网络等多维信号，成功为 **425 万+ 活跃开发者**标注可信地理位置，并将结果**全量回注至 OpenDigger 数据库**，显著增强其对全球开源生态的区域刻画能力。

这是一次真正意义上的 **“开源世界的人口普查”** —— 不靠问卷，不靠填报，只靠代码提交、评论互动、邮箱痕迹与时间节律，为全球开发者绘制第一张高保真“经纬图”。

---

## 🔍 为什么我们需要“开源经纬”？

GitHub 上超过 **60% 的开发者未填写有效地理位置**，字段中充斥着 “Earth”、“Mars”、“宇宙中心” 等无效信息。这使得：

- 全球开源贡献的区域分析长期建立在**沙上楼阁**；  
- 地方政府难以评估本地真实的技术活跃度；  
- 跨时区协作缺乏真实的地理上下文。

**“开源经纬”从行为中提取坐标，用算法代替猜测**，为开源世界建立可信赖的地理基准系。

---

## 🧠 方法：多源信号的分层融合定位

我们设计了一套 **五阶段、渐进式、可解释性强** 的地理推断框架，如上图所示，从原始数据到最终位置预测，逐层递进、动态融合。整个流程分为以下五个核心模块：

<img width="5972" height="2132" alt="副本-DevLoc- 架构" src="https://github.com/user-attachments/assets/7baf1934-b611-46f7-957b-ce410f35ce5b" />

### 1. 数据获取与预处理
- **数据源**：基于 GitHub GHArchive 全域日志（2024–2025），涵盖姓名、邮箱、个人资料、活跃日志、机构信息等多模态字段；
- **预处理方法**：
  - 地理信息标准化（如统一国家名称格式）；
  - 邮件地址解析（提取域名、TLD）；
  - 多模态特征提取（构建协作网络、时间行为模式）；
- 输出为结构化特征集：**时间活动模式、协作关系、机构名称、邮件域、姓名文本**。

### 2. 规则驱动的定位层
- 利用规则库进行快速初筛：
  - **`tidextract` + `pycountry`**：从邮箱域名（如 `@ecnu.edu.cn`）提取国家代码；
  - **`GeoLite2-Country`**：通过 IP 归属地（若可用）映射地理位置；
- 输出：初步预测的部分地理位置（如中国、美国），作为后续层的输入。

### 3. 姓名文化感知层
- 对姓名进行基于规则的分词（如“王伟” → “王”、“伟”）；
- 接入 **Forebears 姓名数据库**，计算姓名在各国的人口分布概率；
- 构建“姓名-地点关联评分”，生成 Top5 国家候选列表；
- 示例：“李明”在中文语境中高概率指向中国，但若时区不匹配，则触发后续验证。

### 4. 时区交叉验证层
- 分析开发者在 GitHub 上的活跃时间戳（提交、评论、PR 等）；
- 提取其**本地时区偏移**（UTC+8, UTC-5 等）；
- 与姓名文化层输出的候选国家进行**多维度融合判断**：
  - 若“姓名指向中国，时区为 UTC+9”，则可能为日本工作；
  - 引入**距离衰减机制**，避免简单投票导致误判；
- 输出：经时区校正后的地理候选项。

### 5. 特征感知的自适应集成层
- 融合前三层输出：**时间行为特征 + 姓名文化特征 + 网络协作特征**；
- 使用 **XGBoost / BiLSTM 混合模型** 构建自适应集成框架；
- 根据各特征的置信度与可用性（如是否拥有邮箱、是否有活跃日志），动态加权决策；
- 最终输出：**预测地理位置 + 置信度分数**，支持不确定性量化。

> ✅ 整个框架具备 **强可解释性**（每层独立输出）、**高鲁棒性**（应对缺失数据）与 **低依赖性**（无需用户主动填报）。

---

## 📊 实验效果：准确率与覆盖率双突破

本项目的核心目标是**在不依赖用户自填位置的前提下，最大化开发者地理位置的预测准确性与覆盖广度**。我们在 OpenDigger 提供的 5 万标注开发者样本上进行了系统评估，“开源经纬”在两项关键指标上均取得显著突破：

### 🔹 预测有多准？——准确率全面领先

我们与三类主流方法进行对比：**数据插补模型**（GOSS, DDVA）、**机器学习/深度学习模型**（XGBoost, BiLSTM 等）、以及**大语言模型**（Qwen-Max, Kimi-K2）。结果表明，“开源经纬”在所有指标上均达到最优：

| 方法类别 | 模型 | 准确率 (%) | F1 Score |
|----------|------|------------|----------|
| 数据插补 | GOSS / DDVA | 48.3–51.4 | 42.7–45.7 |
| 机器学习 | XGBoost（最佳基线） | 74.05 | 72.06 |
| 深度学习 | BiLSTM | 73.96 | 71.40 |
| 大语言模型 | Qwen-Max / Kimi-K2 | 23.6–31.2 | 20.1–27.9 |
| **Ours** | **开源经纬** | **74.12** | **73.12** |

> ✅ **关键结论**：  
> - “开源经纬”的 **F1 Score（73.12）显著优于最强基线 XGBoost（72.06）**，说明其在精确率与召回率之间取得更优平衡；  
> - **大语言模型表现极差**（准确率不足 1/3），证明仅靠提示工程无法可靠推断地理位置；  
> - 本方法在**完全不依赖用户自填信息**的前提下，实现了接近人工填报数据的可用精度。

### 🔹 能覆盖多少人？——解决 82.5% 的位置缺失问题

GitHub 上超过 60% 的开发者未提供有效位置。“开源经纬”通过分层渐进式架构，成功为 **82.52% 的活跃开发者**（41,261 / 50,000）推断出可信地理位置，大幅缓解数据缺失困境：

| 定位层级 | 覆盖开发者数 | 覆盖率 (%) | 准确率 (%) |
|----------|--------------|------------|------------|
| 规则初筛（邮箱/IP） | 5,454 | 10.90 | 62.58 |
| 姓名文化推断 | 21,320 | 42.64 | 76.29 |
| 时区交叉验证 | 21,320 | 42.64 | 76.41 |
| 自适应集成决策 | 11,476 | 22.95 | 75.57 |
| **总计** | **41,261** | **82.52** | **74.12** |

> ✅ **关键洞察**：  
> - **姓名与时区是两大主力信号**，各自覆盖超 40% 开发者，且准确率 >76%；  
> - **集成层处理最复杂案例**（如文化归属地与工作地冲突），仍保持 75.57% 高准确率；  
> - 最终 **整体覆盖率高达 82.5%**，意味着原本“位置未知”的开发者中，**超过八成 now have a reliable geographic anchor**。

---

## 🌐 深度发现：从“开源经纬”看见世界


## 🌍 全球开源开发者地理分布：首次基于行为推断的高精度热力图

我们基于“开源经纬”模型对 **425 万活跃开发者** 的地理位置进行推断，并绘制出首张**不依赖用户自填信息**的全球开源开发者热力地图。该图以国家为单位，按开发者数量进行颜色分级与数值标注，真实反映当前全球开源贡献的地理格局。

<img width="2944" height="1668" alt="image" src="https://github.com/user-attachments/assets/9047a698-83d8-423b-87ec-c2dd059486f7" />

> 🔍 **核心发现**：
> - **美国**以 **476.16 万** 开发者位居全球第一，是开源生态的核心引擎；
> - **印度**（239.98 万）和 **中国**（198.29 万）紧随其后，构成亚太地区两大技术力量；
> - **巴西**（142.84 万）、**德国**（107.93 万）、**加拿大**（79.69 万）等国也展现出强劲的开源参与度；
> - 非洲及中东多数国家仍处于起步阶段，但潜力巨大。

> ✅ 这张地图不仅是**数据的呈现**，更是**方法论的验证**——它证明了通过姓名文化、时区行为、邮箱域等多源信号融合，可以在无自填前提下，准确还原全球开发者的真实地理分布。

---


基于定位结果，我们对 **425 万开发者**进行系统性分析，揭示以下关键图景：

### 1. **亚太加速，北美守核**
- **印度**开发者年增 **38.2%**，跃居全球第三；
- **印尼、越南、菲律宾**增速均超 **30%**，形成东南亚技术新三角；
- 但**美国**仍在核心仓库维护、跨项目影响力上保持绝对优势。

### 2. **人在哪里，心在何方？——文化与工作的错位**
- 在东京工作的中国籍开发者，姓名指向中国，行为匹配日本；
- 海湾国家大量外籍工程师呈现类似“双重身份”；
- “开源经纬”的**距离衰减融合机制**能精准识别此类跨国开发者。

### 3. **协作有“引力”：同地更高效**
- 同国开发者间的 PR 评论响应速度比跨国快 **1.8 倍**；
- 即使在异步平台，**地理邻近性仍显著促进互动**；
- 对远程团队组建具有直接启示。

### 4. **中国版图：头部聚集，腰部崛起**
- 北京、上海、深圳、杭州聚集全国 **58%** 高活跃开发者；
- 成都、武汉、西安年增速超 **25%**，但协作网络尚弱；
- 高校城市（南京、合肥）在科研型开源中表现亮眼。

> 📊 **完整交互式地图与动态趋势**已上线 [OpenDigger 全球开发者仪表盘](https://open-digger.cn)，支持按国家、城市、技术栈多维度探索“开源经纬”。

---

## 🔄 反哺 OpenDigger：让每一份贡献都有“坐标”

“开源经纬”不仅是研究项目，更是 **OpenDigger 基础设施的关键升级**：

- 新增 **425 万条高质量地理位置标注**，填补长期空白；
- 所有结果以标准格式（ISO 国家码 + 置信度）写回主库；
- 未来所有区域分析（如“某省开源活跃度”）将**默认采用“开源经纬”推断结果**。

从此，OpenDigger 不仅知道 **谁在写代码**，更知道 **他们在世界的哪一“经纬”**。

---

## 开源协作

**(1) 开源协作 issue讨论**

本团队三个成员自从参加比赛开始就一直采取开源协作的方式，详情可见issue

从讨论选题开始就在github上以issue的形式进行讨论，目前共计10个issue，一百余条Comments回复

**(2) 开源协作 PR贡献**

本项目完全以开源协作的方式进行代码迭代，以共计100余个PR的形式完成本项目的开发

## “OpenRank杯”开源数字生态分析与应用创新赛 

**参赛赛道** : 基于OpenDigger

**参赛选手：** 彭佳恒 张雨昂 张雨欣

**队伍名称：** ThisisAI

<img width="880" height="220" alt="image" src="https://github.com/user-attachments/assets/05d5d82d-8eac-4375-8965-751871233db2" />

<img width="60" height="60" alt="image" src="https://github.com/user-attachments/assets/a2cb0eaf-c663-42f1-9fe7-34b96084daa7" />

**队员介绍**

<img width="50" height="50" alt="image" src="https://github.com/user-attachments/assets/b9a58cc3-e9fd-4e41-a312-af17393b3a98" /> <img width="50" height="50" alt="image" src="https://github.com/user-attachments/assets/3789bc09-9f9c-4c20-aa26-bfb3fa82d7c0" /> <img width="50" height="50" alt="image" src="https://github.com/user-attachments/assets/aaba86cc-cdf6-41d2-9e09-be400515955a" />

彭佳恒：华东师范大学 数据科学与工程学院 x-lab 博士研究生 jiaheng_peng@stu.ecnu.edu.cn

张雨昂：中国地质大学（武汉） 地理与信息工程学院 地理信息系统国家地方联合工程实验室 博士研究生 zhangyuang@cug.edu.cn

张雨欣：贵州财经大学 信息学院 硕士研究生 1375969745@qq.com



## 作品题目
**The Global Pulse of Code: A Framework for Evaluating the Globalization of Open Source Projects**

相关成果已经发表在： The 17th BenchCouncil International Symposium On Evaluation Science and Engineering (Bench 2025) 


