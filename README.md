# “开源经纬”  
### ——全球首个可交互式的开源世界“人口普查”平台

> **覆盖 2000 万+ 活跃开发者 · 定位准确率 74.1% · 首次实现无自填依赖的全域地理推断**

**我们从 OpenDigger 出发，最终又回到 OpenDigger**。  
“开源经纬”是一个真正意义上的**数据闭环项目**：基于 OpenDigger 提供的 **90亿+ 开发者全域行为日志**，我们构建了一套不依赖用户自述位置的高精度地理推断引擎，并成功为 **2000 万+ 活跃开发者** 标注可信地理位置。更重要的是，**所有推断结果已全量写回 OpenDigger 数据库**，成为其官方地理信息源——这不仅是技术突破，更是对开源基础设施的一次实质性反哺。

如今，你可以在 OpenDigger 中直接查询任意开发者的国家、省份甚至城市坐标；而这一切，都源于我们对“谁在写代码？他们身在何处？”这一基本问题的回答。

立即探索我们的核心成果 👉 [**全球开源开发者 3D 交互地球**](https://tiai-thisisai.github.io/OpenRank2025/)  
——在这里，每一份代码贡献都被映射到真实世界的经纬之上。

---

## 🔍 一、为什么我们需要“开源经纬”？

GitHub 上超过 **60% 的开发者未填写有效地理位置**，字段中充斥着 “Earth”、“Mars”、“宇宙中心” 等无效信息。这使得：

- 全球开源贡献的区域分析长期建立在**沙上楼阁**；  
- 地方政府难以评估本地真实的技术活跃度；  
- 跨时区协作缺乏真实的地理上下文。

**“开源经纬”从行为中提取坐标，用算法代替猜测**，为开源世界建立可信赖的地理基准系。

---

## 🧠 二、方法：多源信号的分层融合定位

我们设计了一套 **五阶段、渐进式、可解释性强** 的地理推断框架，如上图所示，从原始数据到最终位置预测，逐层递进、动态融合。整个流程分为以下五个核心模块：

<img width="5972" height="2132" alt="副本-DevLoc- 架构" src="https://github.com/user-attachments/assets/7baf1934-b611-46f7-957b-ce410f35ce5b" />

### 1. 数据获取与预处理
- **数据源**：基于 GitHub GHArchive 全域日志（2024–2025），涵盖姓名、邮箱、个人资料、活跃日志、机构信息等多模态字段；
- **预处理方法**：
  - 地理信息标准化（如统一国家名称格式）；
  - 邮件地址解析（提取域名、TLD）；
  - 多模态特征提取（构建协作网络、时间行为模式）；
- 输出为结构化特征集：**时间活动模式、协作关系、机构名称、邮件域、姓名文本**。

### 2. 规则驱动的定位层
- 利用规则库进行快速初筛：
  - **`tidextract` + `pycountry`**：从邮箱域名（如 `@ecnu.edu.cn`）提取国家代码；
  - **`GeoLite2-Country`**：通过 IP 归属地（若可用）映射地理位置；
- 输出：初步预测的部分地理位置（如中国、美国），作为后续层的输入。

### 3. 姓名文化感知层
- 对姓名进行基于规则的分词（如“王伟” → “王”、“伟”）；
- 接入 **Forebears 姓名数据库**，计算姓名在各国的人口分布概率；
- 构建“姓名-地点关联评分”，生成 Top5 国家候选列表；
- 示例：“李明”在中文语境中高概率指向中国，但若时区不匹配，则触发后续验证。

### 4. 时区交叉验证层
- 分析开发者在 GitHub 上的活跃时间戳（提交、评论、PR 等）；
- 提取其**本地时区偏移**（UTC+8, UTC-5 等）；
- 与姓名文化层输出的候选国家进行**多维度融合判断**：
  - 若“姓名指向中国，时区为 UTC+9”，则可能为日本工作；
  - 引入**距离衰减机制**，避免简单投票导致误判；
- 输出：经时区校正后的地理候选项。

### 5. 特征感知的自适应集成层
- 融合前三层输出：**时间行为特征 + 姓名文化特征 + 网络协作特征**；
- 使用 **XGBoost / BiLSTM 混合模型** 构建自适应集成框架；
- 根据各特征的置信度与可用性（如是否拥有邮箱、是否有活跃日志），动态加权决策；
- 最终输出：**预测地理位置 + 置信度分数**，支持不确定性量化。

> ✅ 整个框架具备 **强可解释性**（每层独立输出）、**高鲁棒性**（应对缺失数据）与 **低依赖性**（无需用户主动填报）。

---

## 📊 三、实验效果：准确率与覆盖率双突破

本项目的核心目标是**在不依赖用户自填位置的前提下，最大化开发者地理位置的预测准确性与覆盖广度**。我们在 OpenDigger 提供的 5 万标注开发者样本上进行了系统实验评估，“开源经纬”在两项关键指标上均取得显著突破：

### 🔹 预测有多准？——准确率全面领先

我们与三类主流方法进行对比：**数据插补模型**（GOSS, DDVA）、**机器学习/深度学习模型**（XGBoost, BiLSTM 等）、以及**大语言模型**（Qwen-Max, Kimi-K2）。结果表明，“开源经纬”在所有指标上均达到最优：

| 方法类别 | 模型 | 准确率 (%) | F1 Score |
|----------|------|------------|----------|
| 数据插补 | GOSS / DDVA | 48.3–51.4 | 42.7–45.7 |
| 机器学习 | XGBoost（最佳基线） | 74.05 | 72.06 |
| 深度学习 | BiLSTM | 73.96 | 71.40 |
| 大语言模型 | Qwen-Max / Kimi-K2 | 23.6–31.2 | 20.1–27.9 |
| **Ours** | **开源经纬** | **74.12** | **73.12** |

> ✅ **关键结论**：  
> - “开源经纬”的 **F1 Score（73.12）显著优于最强基线 XGBoost（72.06）**，说明其在精确率与召回率之间取得更优平衡；  
> - **大语言模型表现极差**（准确率不足 1/3），证明仅靠提示工程无法可靠推断地理位置；  
> - 本方法在**完全不依赖用户自填信息**的前提下，实现了接近人工填报数据的可用精度。

### 🔹 能覆盖多少人？——解决 82.5% 的位置缺失问题

GitHub 上超过 60% 的开发者未提供有效位置。“开源经纬”通过分层渐进式架构，成功为 **82.52% 的活跃开发者**（41,261 / 50,000）推断出可信地理位置，大幅缓解数据缺失困境：

| 定位层级 | 覆盖开发者数 | 覆盖率 (%) | 准确率 (%) |
|----------|--------------|------------|------------|
| 规则初筛（邮箱/IP） | 5,454 | 10.90 | 62.58 |
| 姓名文化推断 | 21,320 | 42.64 | 76.29 |
| 时区交叉验证 | 21,320 | 42.64 | 76.41 |
| 自适应集成决策 | 11,476 | 22.95 | 75.57 |
| **总计** | **41,261** | **82.52** | **74.12** |

> ✅ **关键洞察**：  
> - **姓名与时区是两大主力信号**，各自覆盖超 40% 开发者，且准确率 >76%；  
> - **集成层处理最复杂案例**（如文化归属地与工作地冲突），仍保持 75.57% 高准确率；  
> - 最终 **整体覆盖率高达 82.5%**，意味着原本“位置未知”的开发者中，**超过八成的对象现已具备可靠的地理锚点**。

---

## 🌐 四、深度发现：从“开源经纬”看见世界


### 🌍 1.全球开源开发者三维分布：可交互式地球视图

我们首创**基于多源行为信号的全球开源开发者三维地理分布系统**，以高精度真实地球模型为载体，将2000万+开发者（覆盖212个国家）的分布数据映射至地表，通过立体柱状高度直观呈现各国开发者数量规模，实现“开源人才版图”的沉浸式可视化。


### 🖼️ 图例说明
1. **可交互式地球全景图**
   以真实地球为基底，通过立体柱体的分布与高度，全局展示全球开源开发者的地理分布格局，支持自由交互浏览。
   ![可交互式地球全景图](https://github.com/user-attachments/assets/fa62a36a-78b0-4844-9ece-00147813842e)

2. **功能细节图**
   聚焦系统功能模块与数据看板，清晰呈现“全球统计+国家详情+排行榜”等多维度信息展示逻辑。
   ![功能细节图](https://github.com/user-attachments/assets/a98c3b9f-124b-4d64-a4b5-63424b7813c8)


### 🔍 核心升级功能
- 沉浸式交互：支持地球拖动、旋转、视角缩放，自由切换全局/区域视野；
- 精准信息锚定：悬停国家区域，实时显示“国家-大洲-开发者数量”三维信息；
- 多维度数据看板：侧边栏同步展示
  - 全球统计（总规模/增长率/活跃区域）
  - 国家详情（排名/归属）
  - Top10国家排行榜
  数据一目了然；
- 洲际可视化标识：通过专属色彩区分亚洲、欧美等区域，快速识别板块分布特征。


### 🚀 在线体验
点击进入 [在线交互式地球仪表盘](https://tiai-thisisai.github.io/OpenRank2025/)，亲手探索开源世界的“数字星图”。


### 💡 技术优势
系统由“开源经纬”模型驱动，通过无自填依赖的多源信号融合推断地理位置，规避传统自填数据的偏差问题，保障数据的真实性与权威性。

---

### 🌐 2.全球开源开发者地理分布：首次基于行为推断的高精度热力图

我们基于“开源经纬”模型对 **2200 万+活跃开发者** 的地理位置进行推断，并绘制出首张**不依赖用户自填信息**的全球开源开发者热力地图。该图以国家为单位，按开发者数量进行颜色分级与数值标注，真实反映当前全球开源贡献的地理格局。

<img width="2944" height="1668" alt="image" src="https://github.com/user-attachments/assets/9047a698-83d8-423b-87ec-c2dd059486f7" />

> 🔍 **核心发现**：
> - **美国**以 **476.16 万** 开发者位居全球第一，是开源生态的核心引擎；
> - **印度**（239.98 万）和 **中国**（198.29 万）紧随其后，构成亚太地区两大技术力量；
> - **巴西**（142.84 万）、**德国**（107.93 万）、**加拿大**（79.69 万）等国也展现出强劲的开源参与度；
> - 非洲及中东多数国家仍处于起步阶段，但潜力巨大。

> ✅ 这张地图不仅是**数据的呈现**，更是**方法论的验证**——它证明了通过姓名文化、时区行为、邮箱域等多源信号融合，可以在无自填前提下，准确还原全球开发者的真实地理分布。


### 📊 3. 数据洞察可视化平台：基于 OpenDigger 的深度分析模块

作为“开源经纬”整体平台的核心组成部分，我们构建了**数据洞察可视化平台**——一个深度融合 OpenDigger 全域日志的智能分析模块。它不只展示静态分布，更通过多维指标与 AI 辅助解读，将原始行为数据转化为可理解、可行动的生态洞察。

<img width="3192" height="900" alt="副本-实验结果图" src="https://github.com/user-attachments/assets/c7c0543f-5164-4912-a9a7-d0603033b488" />

> 🔍 **核心分析维度**：
> - 🌐 **全球评分（Global Score）**：综合活跃度、多样性与健康度的量化评估；
> - 📈 **贡献趋势**：30天/90天/1年时间窗口下的提交量动态变化；
> - 🗺️ **地理分布**：开发者国家/地区占比，揭示区域参与格局；
> - ⏰ **时区覆盖**：24 小时内是否有活跃贡献，衡量全球化协作能力；
> - 🧭 **社区健康雷达图**：从语言多样性、新成员留存、活跃一致性等五个维度评估项目可持续性；
> - 🕒 **周节奏热力图**：识别团队每日每小时的协作高峰模式；
> - 🤖 **AI 洞察引擎**：基于大模型自动生成诊断报告（如：“该项目北美主导，但缺乏亚太夜间覆盖”）；
> - 👥 **Top 贡献者追踪**：实时关联贡献者与其推断地理位置。

> 💡 **平台价值**：
> - 所有数据源自 **OpenDigger 真实行为日志**，无自填依赖，确保客观性；
> - 支持 **按项目、组织、技术栈、时间范围灵活筛选**；
> - 为开源治理、人才引进、跨时区协作提供**数据驱动的决策依据**。

---

## 🔄 五、反哺 OpenDigger：让每一份贡献都有“坐标”

“开源经纬”不仅是研究项目，更是 **OpenDigger 基础设施的关键升级**。我们首次将基于行为推断的开发者地理位置，以**结构化、标准化、可查询**的形式写回 OpenDigger 数据库，实现从“粗粒度自填”到“细粒度推断”的跨越。

### 📊 数据结构与字段说明

所有推断结果已写入 `location_info` 表，包含以下核心字段：

| 字段名 | 说明 |
|--------|------|
| `location` | 原始用户填写的位置文本（如 "Khagan,Birulia,Savar,Dhaka"） |
| `country` | ISO 国家代码标准命名（如 Bangladesh） |
| `administrative_area_level_1` | 一级行政区（如 Dhaka Division） |
| `administrative_area_level_2` | 二级行政区（如 Dhaka District） |
| `locality` | 具体城市或乡镇名称 |
| `longitude`, `latitude` | 精确地理坐标（WGS84 格式） |

> ✅ 这意味着：**OpenDigger 不再仅依赖用户自填的模糊位置，而是拥有可精确到“区县级”的高精度地理标签**。

<img width="2660" height="742" alt="location_info 表结构截图" src="https://github.com/user-attachments/assets/8c17e6c7-6657-4c0b-9894-daa8a480e81f" />

### 🔧 实际价值与未来应用

- ✅ 新增 **425 万条高质量地理位置标注**（不包含预估数据，录入数据库为实际预测数据），填补长期空白；
- ✅ 所有数据均通过 **“开源经纬”模型推断生成**，置信度分级管理；
- ✅ 支持未来分析场景：
  - 按“省份”统计开源活跃度（如“广东省开发者占比”）；
  - 分析“城市级协作网络”；
  - 联合人口、GDP 数据进行技术经济关联研究；
- ✅ 成为 OpenDigger 官方推荐的**地理数据来源**，后续区域分析将默认采用本成果。

从此，OpenDigger 不仅知道 **谁在写代码**，更知道 **他们在世界的哪一“经纬”** —— 从“人”到“地”，构建真正的全球开源生态地图。

---

## 🤝 六、开源协作

**(1) 开源协作 issue讨论**

本团队三个成员自从参加比赛开始就一直采取开源协作的方式，详情可见issue

从讨论选题开始就在github上以issue的形式进行讨论，目前共计16个issue，一百余条Comments回复

<img width="2406" height="2058" alt="image" src="https://github.com/user-attachments/assets/08e63d76-812a-4489-81d9-46cee671f0b4" />



**(2) 开源协作 PR贡献**

本项目完全以开源协作的方式进行代码迭代，以共计200余个PR的形式完成本项目的开发

<img width="1932" height="1934" alt="image" src="https://github.com/user-attachments/assets/b172550f-9213-42bb-a660-c80bc0a2f2fd" />


---

## 👥 七、队伍信息

**参赛赛道** : 基于OpenDigger

**参赛选手：** 彭佳恒 张雨昂 张雨欣

**队伍名称：** ThisisAI

<img width="880" height="220" alt="image" src="https://github.com/user-attachments/assets/05d5d82d-8eac-4375-8965-751871233db2" />

<img width="60" height="60" alt="image" src="https://github.com/user-attachments/assets/a2cb0eaf-c663-42f1-9fe7-34b96084daa7" />

**队员介绍**

<img width="50" height="50" alt="image" src="https://github.com/user-attachments/assets/b9a58cc3-e9fd-4e41-a312-af17393b3a98" /> <img width="50" height="50" alt="image" src="https://github.com/user-attachments/assets/3789bc09-9f9c-4c20-aa26-bfb3fa82d7c0" /> <img width="50" height="50" alt="image" src="https://github.com/user-attachments/assets/aaba86cc-cdf6-41d2-9e09-be400515955a" />

彭佳恒：华东师范大学 数据科学与工程学院 x-lab 博士研究生 jiaheng_peng@stu.ecnu.edu.cn

张雨昂：中国地质大学（武汉） 地理与信息工程学院 地理信息系统国家地方联合工程实验室 博士研究生 zhangyuang@cug.edu.cn

张雨欣：贵州财经大学 信息学院 硕士研究生 1375969745@qq.com




